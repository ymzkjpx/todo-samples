<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.todo.infrastructure.book.BookMapper">

    <select id="searchBooksByKeyword" resultMap="com.todo.domain.model.Book.Book">
        SELECT
            book_number AS "bookNumber.value"
          , author AS "workOf.value"
          , genre AS "genre.value"
          , title AS "name.value"
        FROM collection.book
        WHERE
             (title LIKE '%' || #{keyword.value} || %)
          OR (author LIKE '%' || #{keyword.value} || %)
    </select>

</mapper>